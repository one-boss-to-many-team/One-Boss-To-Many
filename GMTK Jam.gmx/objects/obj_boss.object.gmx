<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_boss_1_run</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_stop_all()
audio_laun = laun_1
audio_1 = boss1
audio_play_sound(audio_laun,1,false)
img_scale = 1
real_spd = 2
laser_len = 0
laser_trigger = 1
thunder_number = 1
spd = 5
aim = 0
img_xscale = 1
img_spd = 1/2
image_speed = img_spd
change_time = 0
change_sprite = 0
change_size = 0
healt_1 = 120
healt_2 = 220
healt_3 = 160
healt_4 = 300
max_healt = healt_1
healt = healt_1 
laser_cd = 120
laser_time = 90
type = "first boss"
thunder_cd = 30
b = 0
global.fire = 1
meteor_cd = 90
meteor_shoting = 0
fire_cd_walk = 0
fire_cd = 0
fire_cd_max = 150
FifthParticleSystem = part_system_create();
fifth_particle = part_type_create();
part_system_depth(FifthParticleSystem,-2000)
part_type_shape(fifth_particle,pt_shape_square);
part_type_scale(fifth_particle,1,1);
part_type_size(fifth_particle,0.4,0.05,-.008,0);
part_type_color2(fifth_particle,make_colour_rgb(208, 101, 101),make_colour_rgb(255, 0, 0));
part_type_alpha2(fifth_particle,1,0.5);
part_type_speed(fifth_particle,0.2,0.5,0,0)
part_type_direction(fifth_particle,0,359,0,0)
part_type_gravity(fifth_particle,0.1,90)
part_type_orientation(fifth_particle,0,359,10,0,true)
part_type_life(fifth_particle,60,70)
part_type_blend(fifth_particle,true);

fifth_emitter = part_emitter_create(FifthParticleSystem)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>size = 128

draw_set_blend_mode(bm_subtract);
surface_set_target(global.light);
draw_ellipse_color(x - size / 2 - view_xview,(y-12) - size / 2 - view_yview,x+size/2-view_xview,(y-12)+size/2-view_yview,c_white,c_black,false);
surface_reset_target();
draw_set_blend_mode(bm_normal);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var nearest = instance_nearest(x,y,obj_char);
depth = -y 
            if nearest.x != x &amp;&amp; nearest.y != y {real_spd = sqrt((spd*spd)/2)} else {real_spd = spd}
if change_time == 0 &amp;&amp; meteor_cd &gt; 0 &amp;&amp; laser_cd &gt; 0{  
/*          
            if nearest.x &lt; x {
                            if place_free(x-real_spd,y) 
                                                {
                                                
                                                if !(x-nearest.x &lt; real_spd) {x -= real_spd} else {x -= x-nearest.x}
                                                image_xscale = -img_xscale 
                                                
                                                }
                            }
                            else if nearest.x &gt; x
                            {
                             if place_free(x+real_spd,y) 
                                                {
                                                
                                                if !(nearest.x-x &lt; real_spd) {x += real_spd} else {x += nearest.x-x}
                                                image_xscale = img_xscale 
                                                
                                                }
                            }
                            
            if nearest.y &lt; y {
                            if place_free(x,y-real_spd) 
                                                {
                                                if !(y-nearest.y &lt; real_spd) {y -= real_spd} else {y -= y-nearest.y}
                                                }
                            }
                            else if nearest.y &gt; y
                            {
                             if place_free(x,y+real_spd) 
                                                {
                                                if !(nearest.y-y &lt; real_spd) {y += real_spd} else {y += nearest.y-y}
                                                }
                            }*/
                            
            mp_potential_step(obj_char.x,obj_char.y,real_spd,false)
            
            }
if x &lt; nearest.x {image_xscale = img_scale} else {image_xscale = -img_scale};

if healt &lt;= 0 {
                
                if healt_1 != 0 {
                                scr_boss_1_death_explosion()
                                image_speed = img_spd
                                healt = healt_2
                                max_healt = healt_2
                                
                                audio_stop_all()
                                audio_laun = laun_2
                                audio_1 = boss2
                                audio_play_sound(audio_laun,1,false)
                                
                                
                                healt_1 = 0
                                type = "second boss"
                                spd = 4
                                change_sprite = spr_boss_2_run
                                change_time = 80
                                change_size = 1
                                instance_create(x,y,obj_shake_screen)
                                }
                                
                if healt_2 != 0 &amp;&amp; healt &lt;= 0{
                
                                audio_stop_all()
                                audio_laun = laun_3
                                audio_1 = boss3
                                audio_play_sound(audio_laun,1,false)
                                
                                healt = healt_3
                                global.fire = 0
                                laser_cd = 90
                                max_healt = healt_3
                                healt_2 = 0
                                laser_cd = 90
                                type = "third boss"
                                spd = 5
                                change_sprite = spr_boss_3_run
                                change_time = 80
                                change_size = 1
                                instance_create(x,y,obj_shake_screen)
                                }
                                
                if healt_3 != 0 &amp;&amp; healt &lt;= 0{
                
                                audio_stop_all()
                                audio_laun = laun_4
                                audio_1 = boss4
                                audio_play_sound(audio_laun,1,false)
                                
                                healt = healt_4
                                max_healt = healt_4
                                healt_4 = 0
                                laser_cd = 10000
                                healt_3 = 0
                                type = "fourth boss"
                                spd = 4
                                b = 0
                                change_sprite = spr_boss_4_run
                                change_time = 80
                                change_size = 1
                                meteor_cd = 90
                                instance_create(x,y,obj_shake_screen)
                                }
                if healt &lt;= 0 &amp;&amp; healt_4 == 0 {
                                                
                                                //obj_room_control.rooom = room4
                                                room = room4
                                                }
                }
                 
if type = "fourth boss" {
                        if meteor_cd &gt; 0 {
                                            meteor_cd -= 1
                                            meteor_shoting = 1
                                            } 
                                            else
                                            {
                                            if image_index == 3 {image_speed = 0}
                                            if b == 0 {
                                                        b = instance_create(x,y-24,obj_meteor)
                                                        b.image_xscale = 0.2
                                                        b.image_yscale = 0.2
                                                        }
                                                        
                                            b.depth = depth-1
                                            b.image_angle = b.direction
                                            b.direction = point_direction(x,y-24,obj_char.x,obj_char.y)
                                            
                                            if b.image_xscale &lt; 1 {
                                                                    b.image_xscale += 0.05
                                                                    b.image_yscale += 0.05

                                                                    }
                                                                    else
                                                                    {
                                                                    meteor_cd = 100
                                                                    
                                                                    b.speed = 8
                                                                    meteor_shoting = 0
                                                                    b = 0
                                                                    image_speed = 0.5
                                                                    }
                                            }
                        }   
                             
if type = "third boss" {
                         if thunder_cd &gt; 0 {
                                            thunder_cd -= 1
                                            }
                                            else
                                            {
                                            
                                            
                                             var angle = 0;
                                             repeat(8) {
                                             var _cos = dcos(angle) ;
                                             var _sin = dsin(angle) ;
                                             var xx = x + _cos*32;
                                             var yy = y-16 - _sin*32;
                                             t = instance_create(xx,yy,obj_thunder)
                                             t.thunder_number = thunder_number
                                             t.angle = angle
                                             t.c_x = x
                                             t.c_y = y
                                             
                                             angle += 45
                                             }                                            
                                             thunder_number += 1            
                                            thunder_cd = 150
                                            
                                            }
                                                              
                        if laser_cd &gt; 0 {
                                            laser_cd -= 1
                                           
                                            } 
                                            else
                                            {

                                                         
                                                        var targetDirection = point_direction(x, y-16, obj_char.x, obj_char.y);
                                                        var angleDifferenc = angle_difference(aim,targetDirection);
                                                        var rot_spd = 1;
                                                        aim -= (min(abs(angleDifferenc), rot_spd) * sign(angleDifferenc))
                                                        var _cos = dcos(aim) ;
                                                         var _sin= dsin(aim) ;
                                                         var xx = x + _cos*laser_len;
                                                         var yy = y-16 - _sin*laser_len;
                                                        if laser_trigger == 1 {
                                                                                repeat(6) {
                                                                                b = instance_create(x-16,y,obj_laser)
                                                                                //b.speed = 8
                                                                                b.direction = aim
                                                                                b.image_angle = aim
                                                                                b.x = xx
                                                                                b.y = yy
                                                                                b.len = laser_len
                                                                                laser_len += 8
                                                                                laser_cd = 0
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                            b = instance_create(x-16,y,obj_laser)
                                                                            //b.speed = 8
                                                                            b.direction = aim
                                                                            b.image_angle = aim
                                                                            b.x = xx
                                                                            b.y = yy
                                                                            b.len = laser_len
                                                                            }
                                                        
                                                        laser_trigger = 1
                                                        laser_len = 0
                                                        if laser_time != 90 {laser_time += 1} else {laser_cd = 90 laser_trigger = 1 laser_time = 0 image_speed = 0.5 b = 0}
                                                        
                                                        
                                                        
                                            
                                            }
                                            
                            
                        }                           
if type = "second boss" {
                        if fire_cd &gt; 0 {
                                       fire_cd -= 1
                                       }
                                       else
                                       {
                                       var dir = irandom(360);
                                       f = instance_create(x,y,obj_fire)
                                       f.direction = dir
                                       f.speed = 20
                                       f = instance_create(x,y,obj_fire)
                                       f.direction = dir-90
                                       f.speed = 20
                                       f = instance_create(x,y,obj_fire)
                                       f.direction = dir-180
                                       f.speed = 20
                                       f = instance_create(x,y,obj_fire)
                                       f.direction = dir-270
                                       f.speed = 20
                                       if fire_cd_max &gt; 30 {fire_cd_max -= 20}
                                       spd += 0.2
                                       fire_cd = fire_cd_max
                                       }
                                       
                        if fire_cd_walk &gt; 0 {
                                            fire_cd_walk -=1
                                            }
                                            else
                                            {
                                             var fire = instance_place(x,y,obj_fire);
                                             if fire = noone {
                                                             instance_create(x,y,obj_fire)
                                                             fire_cd_walk = 15
                                                             }
                                                             
                                            }
                        }                    
if type = "first boss" {
                        img_scale += 0.008
                        image_yscale += 0.008
                        
                        image_speed =  img_spd/img_scale
                        }                                
if change_time &gt; 0 {
                    if change_time &gt; 40 {
                                        change_size += 0.025
                                        image_xscale = change_size 
                                        image_yscale = change_size
                                        }
                                        else
                                        {
                                        sprite_index = change_sprite
                                        change_size -= 0.025
                                        image_xscale = 1 
                                        img_scale = 1
                                        image_yscale = 1
                                        }
                    part_system_depth(FifthParticleSystem,depth);                    
                    part_emitter_region(FifthParticleSystem, fifth_emitter, x-16, x+16, y-2, y+8, ps_shape_ellipse, ps_distr_gaussian);                                
                    part_emitter_burst(FifthParticleSystem,fifth_emitter,fifth_particle,5)
                    change_time -= 1
                    }                            
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// audio
if !audio_is_playing(audio_laun) &amp;&amp; !audio_is_playing(audio_1) {audio_play_sound(audio_1,1,true)}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>part_system_destroy(FifthParticleSystem);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self()

if change_time &gt; 0 {
                    draw_sprite_ext(sprite_index,image_index,x,y,change_size,change_size,0,c_yellow,change_size)
                    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
